<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Diff 算法 | 凯歌哥的小破站</title>
    <meta name="generator" content="VuePress 1.7.1">
    <script charset="utf-8">
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1d56a9f2a862cd29074c56b896f1af64";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
    <meta name="description" content="来了,老弟! 坐下一起喝杯茶,聊聊人生呗^_^">
    
    <link rel="preload" href="/kaigege/assets/css/0.styles.8ec65887.css" as="style"><link rel="preload" href="/kaigege/assets/js/app.ceb0ffd1.js" as="script"><link rel="preload" href="/kaigege/assets/js/2.9fb062ef.js" as="script"><link rel="preload" href="/kaigege/assets/js/3.efbefac2.js" as="script"><link rel="prefetch" href="/kaigege/assets/js/10.a5e49148.js"><link rel="prefetch" href="/kaigege/assets/js/11.83d4a5e2.js"><link rel="prefetch" href="/kaigege/assets/js/12.e79dc129.js"><link rel="prefetch" href="/kaigege/assets/js/13.3ad7ec73.js"><link rel="prefetch" href="/kaigege/assets/js/14.8243d018.js"><link rel="prefetch" href="/kaigege/assets/js/15.33142d7e.js"><link rel="prefetch" href="/kaigege/assets/js/16.fdd6e019.js"><link rel="prefetch" href="/kaigege/assets/js/17.af4ed603.js"><link rel="prefetch" href="/kaigege/assets/js/18.c1ca2677.js"><link rel="prefetch" href="/kaigege/assets/js/19.2b30f205.js"><link rel="prefetch" href="/kaigege/assets/js/20.4746e1bd.js"><link rel="prefetch" href="/kaigege/assets/js/21.151883be.js"><link rel="prefetch" href="/kaigege/assets/js/22.74559b3c.js"><link rel="prefetch" href="/kaigege/assets/js/23.3cca0fce.js"><link rel="prefetch" href="/kaigege/assets/js/24.7df3446b.js"><link rel="prefetch" href="/kaigege/assets/js/25.4a44d0f2.js"><link rel="prefetch" href="/kaigege/assets/js/26.c2c7fc80.js"><link rel="prefetch" href="/kaigege/assets/js/27.1324fce7.js"><link rel="prefetch" href="/kaigege/assets/js/28.996ed6ca.js"><link rel="prefetch" href="/kaigege/assets/js/29.deb1a3ec.js"><link rel="prefetch" href="/kaigege/assets/js/30.d610f047.js"><link rel="prefetch" href="/kaigege/assets/js/31.0772f947.js"><link rel="prefetch" href="/kaigege/assets/js/32.532e423d.js"><link rel="prefetch" href="/kaigege/assets/js/33.fd3fb45a.js"><link rel="prefetch" href="/kaigege/assets/js/34.2fee9448.js"><link rel="prefetch" href="/kaigege/assets/js/35.9c3daa23.js"><link rel="prefetch" href="/kaigege/assets/js/36.fe4154c8.js"><link rel="prefetch" href="/kaigege/assets/js/37.0ab195eb.js"><link rel="prefetch" href="/kaigege/assets/js/38.9eb113ff.js"><link rel="prefetch" href="/kaigege/assets/js/39.27f4fd6a.js"><link rel="prefetch" href="/kaigege/assets/js/4.47a1cbc9.js"><link rel="prefetch" href="/kaigege/assets/js/40.21d541aa.js"><link rel="prefetch" href="/kaigege/assets/js/41.fcab843b.js"><link rel="prefetch" href="/kaigege/assets/js/42.01441c2d.js"><link rel="prefetch" href="/kaigege/assets/js/43.a8ee3312.js"><link rel="prefetch" href="/kaigege/assets/js/44.38d710ce.js"><link rel="prefetch" href="/kaigege/assets/js/45.5be7be87.js"><link rel="prefetch" href="/kaigege/assets/js/46.078a271e.js"><link rel="prefetch" href="/kaigege/assets/js/47.2ad3e4bd.js"><link rel="prefetch" href="/kaigege/assets/js/48.1a43bf75.js"><link rel="prefetch" href="/kaigege/assets/js/49.ace34f72.js"><link rel="prefetch" href="/kaigege/assets/js/5.52d0a8da.js"><link rel="prefetch" href="/kaigege/assets/js/50.eeef3018.js"><link rel="prefetch" href="/kaigege/assets/js/51.c6e54794.js"><link rel="prefetch" href="/kaigege/assets/js/52.bc8b5fdf.js"><link rel="prefetch" href="/kaigege/assets/js/53.026d7abf.js"><link rel="prefetch" href="/kaigege/assets/js/54.5f72d91d.js"><link rel="prefetch" href="/kaigege/assets/js/55.d9fe3924.js"><link rel="prefetch" href="/kaigege/assets/js/56.ede25dda.js"><link rel="prefetch" href="/kaigege/assets/js/57.0ab04710.js"><link rel="prefetch" href="/kaigege/assets/js/58.1eb84b4d.js"><link rel="prefetch" href="/kaigege/assets/js/59.300f6aef.js"><link rel="prefetch" href="/kaigege/assets/js/6.4f6aa0a4.js"><link rel="prefetch" href="/kaigege/assets/js/60.79e4a68f.js"><link rel="prefetch" href="/kaigege/assets/js/61.b580788c.js"><link rel="prefetch" href="/kaigege/assets/js/62.21f846ad.js"><link rel="prefetch" href="/kaigege/assets/js/63.8be7dc66.js"><link rel="prefetch" href="/kaigege/assets/js/7.162aa43a.js"><link rel="prefetch" href="/kaigege/assets/js/8.12d84e63.js"><link rel="prefetch" href="/kaigege/assets/js/9.0e06adc7.js">
    <link rel="stylesheet" href="/kaigege/assets/css/0.styles.8ec65887.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kaigege/" class="home-link router-link-active"><!----> <span class="site-name">凯歌哥的小破站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用命令" class="dropdown-title"><span class="title">常用命令</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用命令" class="mobile-dropdown-title"><span class="title">常用命令</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/commands/linux/index.html" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/git/index.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/nginx/index.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/docker/index.html" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/vi/index.html" class="nav-link">
  vi
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/redis/index.html" class="nav-link">
  redis
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/mysql/index.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/npm/index.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/mac/index.html" class="nav-link">
  mac
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/centos/index.html" class="nav-link">
  centos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS进阶" class="dropdown-title"><span class="title">JS进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS进阶" class="mobile-dropdown-title"><span class="title">JS进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/js/function/index.html" class="nav-link">
  函数
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/vo/index.html" class="nav-link">
  变量对象
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/scope/index.html" class="nav-link">
  作用域链
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/closure/index.html" class="nav-link">
  闭包
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/cross/index.html" class="nav-link">
  跨域
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/extends/index.html" class="nav-link">
  继承
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/ajax/index.html" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/event-loop/index.html" class="nav-link">
  event loop
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/timer/index.html" class="nav-link">
  定时器
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/promise/index.html" class="nav-link">
  promise
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/context/index.html" class="nav-link">
  执行上下文
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/copy/index.html" class="nav-link">
  深拷贝和浅拷贝
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/new/index.html" class="nav-link">
  new
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/apply-call-bind/index.html" class="nav-link">
  apply、call和bind
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/object/index.html" class="nav-link">
  对象
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/operator/index.html" class="nav-link">
  运算符
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/react/lifecycle/index.html" class="nav-link">
  生命周期
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/diff/index.html" class="nav-link">
  diff算法
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/comp-performance-optimization/index.html" class="nav-link">
  组件性能优化
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/hooks/index.html" class="nav-link">
  hooks
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/redux/index.html" class="nav-link">
  Redux
</a></li></ul></div></div><div class="nav-item"><a href="/kaigege/vue/index.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ES6" class="dropdown-title"><span class="title">ES6</span> <span class="arrow down"></span></button> <button type="button" aria-label="ES6" class="mobile-dropdown-title"><span class="title">ES6</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/es6/reflect/index.html" class="nav-link">
  reflect
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/iterable/index.html" class="nav-link">
  iterable
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/proxy/index.html" class="nav-link">
  proxy
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/set-map/index.html" class="nav-link">
  set/map
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/symbol/index.html" class="nav-link">
  symbol
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/decorator/index.html" class="nav-link">
  装饰器
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/async-await/index.html" class="nav-link">
  async/await
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/spec/index.html" class="nav-link">
  规格
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/import-export/index.html" class="nav-link">
  import/export
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web基础" class="dropdown-title"><span class="title">Web基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web基础" class="mobile-dropdown-title"><span class="title">Web基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/web/css/index.html" class="nav-link">
  CSS/CSS3
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/html/index.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/webpack/index.html" class="nav-link">
  webpack原理
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/http/index.html" class="nav-link">
  Http/TCP
</a></li></ul></div></div><div class="nav-item"><a href="/kaigege/algorithm/index.html" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="就是玩儿" class="dropdown-title"><span class="title">就是玩儿</span> <span class="arrow down"></span></button> <button type="button" aria-label="就是玩儿" class="mobile-dropdown-title"><span class="title">就是玩儿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/just-play/particle/index.html" class="nav-link">
  粒子特效
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/tree/index.html" class="nav-link">
  生长的大树
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/jsonview/index.html" class="nav-link">
  JSON可视化
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/danmu/index.html" class="nav-link">
  弹幕
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/i18n/index.html" class="nav-link">
  国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/el-menu/index.html" class="nav-link">
  动态生成el-menu
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/apicloud/index.html" class="nav-link">
  vue+apicloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂记" class="dropdown-title"><span class="title">杂记</span> <span class="arrow down"></span></button> <button type="button" aria-label="杂记" class="mobile-dropdown-title"><span class="title">杂记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/other/computer/index.html" class="nav-link">
  计算机
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/other/photography/index.html" class="nav-link">
  摄影
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/other/moto/index.html" class="nav-link">
  摩托车
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用命令" class="dropdown-title"><span class="title">常用命令</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用命令" class="mobile-dropdown-title"><span class="title">常用命令</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/commands/linux/index.html" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/git/index.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/nginx/index.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/docker/index.html" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/vi/index.html" class="nav-link">
  vi
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/redis/index.html" class="nav-link">
  redis
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/mysql/index.html" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/npm/index.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/mac/index.html" class="nav-link">
  mac
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/commands/centos/index.html" class="nav-link">
  centos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS进阶" class="dropdown-title"><span class="title">JS进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS进阶" class="mobile-dropdown-title"><span class="title">JS进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/js/function/index.html" class="nav-link">
  函数
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/vo/index.html" class="nav-link">
  变量对象
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/scope/index.html" class="nav-link">
  作用域链
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/closure/index.html" class="nav-link">
  闭包
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/cross/index.html" class="nav-link">
  跨域
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/extends/index.html" class="nav-link">
  继承
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/ajax/index.html" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/event-loop/index.html" class="nav-link">
  event loop
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/timer/index.html" class="nav-link">
  定时器
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/promise/index.html" class="nav-link">
  promise
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/context/index.html" class="nav-link">
  执行上下文
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/copy/index.html" class="nav-link">
  深拷贝和浅拷贝
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/new/index.html" class="nav-link">
  new
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/apply-call-bind/index.html" class="nav-link">
  apply、call和bind
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/object/index.html" class="nav-link">
  对象
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/js/operator/index.html" class="nav-link">
  运算符
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/react/lifecycle/index.html" class="nav-link">
  生命周期
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/diff/index.html" class="nav-link">
  diff算法
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/comp-performance-optimization/index.html" class="nav-link">
  组件性能优化
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/hooks/index.html" class="nav-link">
  hooks
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/react/redux/index.html" class="nav-link">
  Redux
</a></li></ul></div></div><div class="nav-item"><a href="/kaigege/vue/index.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ES6" class="dropdown-title"><span class="title">ES6</span> <span class="arrow down"></span></button> <button type="button" aria-label="ES6" class="mobile-dropdown-title"><span class="title">ES6</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/es6/reflect/index.html" class="nav-link">
  reflect
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/iterable/index.html" class="nav-link">
  iterable
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/proxy/index.html" class="nav-link">
  proxy
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/set-map/index.html" class="nav-link">
  set/map
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/symbol/index.html" class="nav-link">
  symbol
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/decorator/index.html" class="nav-link">
  装饰器
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/async-await/index.html" class="nav-link">
  async/await
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/spec/index.html" class="nav-link">
  规格
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/es6/import-export/index.html" class="nav-link">
  import/export
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web基础" class="dropdown-title"><span class="title">Web基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web基础" class="mobile-dropdown-title"><span class="title">Web基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/web/css/index.html" class="nav-link">
  CSS/CSS3
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/html/index.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/webpack/index.html" class="nav-link">
  webpack原理
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/web/http/index.html" class="nav-link">
  Http/TCP
</a></li></ul></div></div><div class="nav-item"><a href="/kaigege/algorithm/index.html" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="就是玩儿" class="dropdown-title"><span class="title">就是玩儿</span> <span class="arrow down"></span></button> <button type="button" aria-label="就是玩儿" class="mobile-dropdown-title"><span class="title">就是玩儿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/just-play/particle/index.html" class="nav-link">
  粒子特效
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/tree/index.html" class="nav-link">
  生长的大树
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/jsonview/index.html" class="nav-link">
  JSON可视化
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/danmu/index.html" class="nav-link">
  弹幕
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/i18n/index.html" class="nav-link">
  国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/el-menu/index.html" class="nav-link">
  动态生成el-menu
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/just-play/apicloud/index.html" class="nav-link">
  vue+apicloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂记" class="dropdown-title"><span class="title">杂记</span> <span class="arrow down"></span></button> <button type="button" aria-label="杂记" class="mobile-dropdown-title"><span class="title">杂记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaigege/other/computer/index.html" class="nav-link">
  计算机
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/other/photography/index.html" class="nav-link">
  摄影
</a></li><li class="dropdown-item"><!----> <a href="/kaigege/other/moto/index.html" class="nav-link">
  摩托车
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React Diff 算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kaigege/react/diff/#diff-策略" class="sidebar-link">diff 策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kaigege/react/diff/#tree-diff-dom-节点比较" class="sidebar-link">tree diff (DOM 节点比较)</a></li><li class="sidebar-sub-header"><a href="/kaigege/react/diff/#component-diff-组件比较" class="sidebar-link">component diff (组件比较)</a></li><li class="sidebar-sub-header"><a href="/kaigege/react/diff/#element-diff" class="sidebar-link">element diff</a></li><li class="sidebar-sub-header"><a href="/kaigege/react/diff/#使用-index-作为-key-的一些问题" class="sidebar-link">使用 index 作为 key 的一些问题</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-diff-算法"><a href="#react-diff-算法" class="header-anchor">#</a> React Diff 算法</h1> <p><a href="https://zhuanlan.zhihu.com/p/20346379" target="_blank" rel="noopener noreferrer">react diff 算法详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="diff-策略"><a href="#diff-策略" class="header-anchor">#</a> diff 策略</h2> <p>1.两个相同组件会生成相同的树形结构，不同组件会生成不同树形结构 2.同一层级的一组子节点，通过唯一 id 进行区分</p> <h3 id="tree-diff-dom-节点比较"><a href="#tree-diff-dom-节点比较" class="header-anchor">#</a> tree diff (DOM 节点比较)</h3> <p><img src="/kaigege/assets/img/8c643d4c-9259-4ff6-91c3-d80dc5521f82.4ac69557.png" alt="8c643d4c-9259-4ff6-91c3-d80dc5521f82.png"></p> <p>react diff 只会对相同颜色框内的节点进行比较，即同一个父节点下所有子节点。如果发现节点不存在，则改节点
及其子节点会被完全删除，不会进行进一步比较，这样只需要遍历一次，就能完成整个 DOM 树的比较</p> <p>**以上是同层级的比较，如果出现节点跨层级移动，情况又会如何 **</p> <p>如下，节点 A 被整个移动到节点 D 的下面，由于 React 只会比较同级节点，当发现 A 节点没有了，则会删除 A 节点，
而发现 D 节点下多额 A 节点，则会创建 A 节点，因此 React diff 执行顺序为:</p> <blockquote><p>createA -&gt; createB -&gt; createC -&gt; deleteA</p></blockquote> <p><img src="/kaigege/assets/img/82069bfa-362c-493d-88a0-282dabdf3ffa.b5ac88d0.png" alt="82069bfa-362c-493d-88a0-282dabdf3ffa.png"></p> <p>由此可见，跨节点层级移动时，节点是被整个重新创建，因此这是一种影响 React 的性能操作，官方也建议:</p> <p><strong>不要进行 DOM 节点跨层级的操作</strong></p> <blockquote><p>注意：在开发组件时，保持稳定的 DOM 结构会有助于性能提升。例如可以通过 CSS 来隐藏和显示节点，而不是移除或添加 DOM 节点</p></blockquote> <h3 id="component-diff-组件比较"><a href="#component-diff-组件比较" class="header-anchor">#</a> component diff (组件比较)</h3> <p>1.如果是同一类型的组件，会按照原策略比较 virtual DOM tree 2.如果不是，则直接替换整个组件下的所有子节点 3.对于同一类型组件，其 Virtual DOM 可能没有任何变化，如果能准确的知道这点，便可节省大量 diff 的时间
因此 React 允许用户通过 shouldComponentUpdate 来判断该组件是否需要 diff</p> <p>还有一种情况，如下图, 组件 D 改变为 G 时，尽管 2 个组件结构相似，但 React 任然认为 D 和 G 是不同类型的组件，
会直接删除 D，重新创建 G 及其子节点。很显然这一操作会影响性能，但如 React 官方博客所言：不同类型的组件
很少有相似的 DOM tree 机会，因此这种情况可以忽略</p> <p><img src="/kaigege/assets/img/d7b9d762-075a-4316-8881-75533d2a56e4.bbbb14a0.png" alt="d7b9d762-075a-4316-8881-75533d2a56e4.png"></p> <h3 id="element-diff"><a href="#element-diff" class="header-anchor">#</a> element diff</h3> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAScAAAB+CAYAAABmrNfKAAAEGWlDQ1BrQ0dDb2xvclNwYWNlR2VuZXJpY1JHQgAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VQNcC+8AAB5vSURBVHgB7V1pjFVVtl4FRVWBA62Us4ZOC2IU0pBmqMLkgXFAUwUNxAmMUww0rWgb/WNsn6bTKnnt3EyKplVwwBFCIy+trxH0UY5hUDSgIp3YkcEC1IAUU913vg37uu+++9y7znzwrZ1UnX32WWet9X1rn32mdfatKXjlwIEDhNK1a1e19PvHlcP+7dvaqbFXo58q1c7VF7ec+OcOC5dn4U/4AwPc/hJWroubZmkVBoQBYSBbBmRwypZ/sS4MCAM+DMjg5EOMNAsDwkC2DMjglC3/Yl0YEAZ8GJDByYcYaRYGhIFsGZDBKVv+xbowIAz4MCCDkw8x0iwMCAPZMlDzbfu3XqJTQXlR07Wm6E1NTQ15KVAl6537O0vkbJmisFfp2N1BDd0bzKayustumZDX4JKzbWNd/HOxJ/y5WXHz4pKV/udiJQX+JAnTTTxawyaP+Wnk6sP+ksRazqLwV84JWri8cOWgMw/9T27rEAkpwoAwkDsGZHDKXUjEIWFAGAADMjhJPxAGhIFcMiCDUy7DIk4JA8KADE7SB4QBYSCXDMjglMuwiFPCgDAgg5P0AWFAGMglA7XIfdi3fx/LOa4clCFxTedV+Cnn6otbTvxzR4TLs/An/IEBbn8JK1frpllaKzHw0Ucf0eLXF9O7be/S+vXrqb29nTo6vIz4hgZqbGykfv36UfPwZmptaaXBgwdXUpWLbRpP24o2hWfbtm2HNR4XqRrjzyVmYTCeccYZ1NTURGPGjDks+mWtOTWvWXeB120cOXwKw5GDzizkwvj3zDPP0IwZM2jz5s3U2tpKkyZNooEDB9Jpp51GPXr0oB9//JG+/vprWr16NS1btowuueQSOvHEE2nq1Kl0zTXXaPpYeMP4VzTgU7F5tvFMnjyZjaeltYWFA67Ydn3ci1VO82djDBuzuHFo//y4MNur8Td37lyaOXMmbdmyJVK/NG3G6Z/WWw1HmRw+X9m/f7/6Q71S4cpBh/pmr5IybxtXX9xyQf378MMPC+ecc05hyJAhhfnz51dBVboZ8tgP+7/33nssnoP6V2qxfM3mLw483hm4AD2Vim3XTzZuOdh58803Y4kZMCbhXxzHRxxxRL90xTEO/3S8w/KHj3tzS35UcHp/15JLvndGwtfPhQcffNClht2G/aEH+jiF6x8CX62YnWP27Nmx4oE+v2La9ZNBe9xycWNEzILyXAkvtkWNb9wY7ThG9c/EHza+MjiZLFr1e++9t3DqqacWVqxYYW0Jtwo90Ddt2rSqCpLoHLCbJp6wndKPHI6+pDCiL1QrHP+0jijxTQqj2S+j+Kcx6iWXF1tOBifNoLXEmQQH8rp166wt0VahD3rtM5WtNe7OgbN/2njszmZj1OtxyWUdMy4O4A4b37QwhvVPx9Rccnmx5WRwMlk8VMc9OG7B4rpisk1AL/S77vW1bJydA8+6ssBjdzaNzV7GIZeHmHFxAH+Y+KaJMYx/dlz1OpcXW04GJ82gscRDwqjPmAx1zir0w45fibNzZIXH7mx+WOOQywqjiYmLA/uEiW+aGMP4Z3Jh1rm82HKSIe5dUpgFr5737t1Lt956q9kcex36YQf2kiw/NzwurgSji5Vwbbpfzn9hfjgFce6F0Wp3x271p0cuvyVXDvtv3bK1+BbGT9+aj9cUzjrrrDK5H374oaSNa5crV8m/3/zmN4HTBcyzRJA60gxgz8UPhz8O3izxcPwD9qhyWWI0Y8fFUan/+elLG+OggYOc/dLPP7PdrnN5seVqoEinl3er7VZx3OPKQcn2bdvp2F7HlulDpu7y5ctVO5IZH3/8cbr77rvV+imnnEKbNm2iBQsW0Ntvv13cl2uXKwfFLv/gGxInkUiZVkEC5yuvvFKWsevyz/apGt6s8VTzT+OJIhcFI6ai3bxpM/Xu3ZuOOuoo7U7VpV/MuDhgIEh816xek3q/9F6e0KuvvlrWL01yuHjDynVB1iYGJfyhXumPKwcdOsPU1uddWdDOXTvV3+7duxVWvf7II4+ogepvf/tbiR9cu1w5P/+W/PcSlWFrBoBbP/PMM+mII46gjj0d3F2UHDLNYdfmyY8/U64a3qB41q5dS/ihCPOvb9++9PLLL7MxmXiq+aexRJELihFAPv7kY+rfvz8d13gcDRgwgI4++mj63e9+R3v37WXhNDFqDFhycUA2SHyDYnzxxRdLYoh+OXLkSPIeqLPwQWj06NHOfhkGL5cXWy7VZ06dnZ1qJL7rP+8i/E35/RQ6/vjjVR2fgeAsuHjxYjr99NMJsmkXfFuGIAYtK1euVN+k4fOVJUuWBNod9mA3iRIUT2fhIOdeugNt376dNv5ro4rXZZddRrt27WK5mCQelwNBMW7dupWam5pp2LBhtGPHDtq3bx8tW76Mnn32Wbrzj3e6TJS15R0jLgBQcBeCPzyTq6uro6FDh6qBuQyQoyFtjA4XvPfZXtH3iKhXKlw56HA97fdIKnjfoJX8eU6p19x6qbc/9thjRVe4drlyfv6FzQP6wx/+UBg7dmzh8ssvV8ui44yKznuyRV382TLV8AbFg2eAiIN3u1009cILL6g2b7AqtlWqmHiq+af1RJELivGOO+4onHDCCYU9e/do82r50ksvFe66+66SNr8VE6Mpw8WBfYLENyhGHTPTN9QHDRpUuPLKK+1m57ofRlOYizesXKqzElx99dWEP13eeust8g5sdfXkDUbUp08fvSmTJb7Gx/OEIMUjnubNm0dz5syhLl270Phx4+n777+nnj17stTAHuwmUcLggR9PP/208n/rt1vpiTlP0FVXXUXHHHMMy8Uk8bgcCIoRt67nnnsu1XWrK1F36aWXEv44Je8Y/TCMGjWKfWWfNkaXz6kOTnAAB7P3USZ5ma60atUq+uv0v9K4sePUJfbSpUtVG54DXHjhhS5/E23DMzDMLhCkAAumS8FX+p0HDt4Wvfbaa3Tdddex1MCefvbG2iGAUBg8UL9o0SKqr69Xt3K4vduwYYOacYHDTZJ4XNCDYsStHGaKiFLyjtEPG6bzwaMHTkkbo8unVJ85LVi4gLxLavrzn/+spnfA/DLz5s5TVyu4arrnnnvom2++obr60rOay/Ek2rp3784Onrb/1FNPqX369umr5nFCO66kuAWdBXaTKGHwwA8MrjhRvP/++7Rx40byLvHVs0COj0nicdkPihHPM/XbYlMfHpI//PDDZpNvPe8Y/RzHSca7tfPbXNKeNsYS44dWUh2chg0dRu+88w61tbXR8OHD1a0D5hD64IMP1K0NDggvc5q++OIL9gNYF6iwbb169QqURuDlY6k3WQ888AA9+eST6g913K7iQSSnIG0BdpMoQfG4fMALi5NOOok+WfuJa3NZW5J4yox5DUEx4qocEwTa8Zl23zQ1D5fLht2Wd4y2v1jHYIO3eNzJD9PG6PI51cHp5JNPJi/pUvmB19U4i11wwQWq82vnvtr4FU2eNJm61nbVTaktkQ6AieK4BflJuPy96eabCPfz+Jt601TVho7AKbAHu0mUoHi0D+vWr6PPPvtMnUSuv/56+vTTT2l062i9ueIySTwuw0Ex4mSIq3c8R/vyyy9p586dNGvWLPISYunGG290mShryztG7TBiiD+8jRwxYoTql5hsj1PSxujyKbM5xPFQEtOFomPY5ZZbblE5I3oOcp3EZcvZ61w57Oea47ypuUnNYOm9dbNVO9cxA+HEiRNLHq7W19WT9+aOnnvuOQKOagUzZsKuxqrlXf7pbXpZDW9QPF1qDp6rRo4YqU2olxRznpijXkMXGytUTDzV/NNqosgFxXjkkUfSwoULacKECYQcLl0wwyletXOKidGU5+LAPkHiGxQjTvwoZ599tlriBNrS0qJSCrgvNvwwKoWH/nHxhpVLPUPcBLdnzx6Vz1Tb7afn8rVda1UCmSmnwSFJq1LhykGHK0M3SrZxJb8qbcNbEckQP/gDG2HiGzZm3itxdQuP2x0876yt/akPVooXtvnFLGr/s+1qff9fM8RTzXMycyRQD5v/YOvR61x9kPfLM/HuyVP9tg72XMXPP1OWgzdLPBz/gCeqXJYYg8ZDyweNb9oYkRNVrUSNm63f1ieDk8WQl+Oj5vy2mhNZxdzisOcqQTuvSwfassRjdzY/H6PKZYnRxMTFgX2CxjdtjNOnTzehOetcvGHlUn0gbl+25nEdv5KCVP+HHnooUfegH3bMX2VJwuDPDY+LI8HoYiVcm+6XV0y4IpyCOPfCkBh2ZHMOp4cag54ZKulK2780Zxz0wx0nfzITph/L/HbO7KXcfgqrYeKbZr8M458fm1xebDm5rfNhNK25mn3Mh+q8froQdJlD3I+d6u36OzP0iUrFPrgqyYY9+NPql2H9c2Hm8mLLyeDkYvNQm/z6SgVyvE3Vfk3G7mx+2uKUS+qXSeTXV8qjF2fcoN3WJ4NTOefFFpCFKw7vNjrynOLyu3VFWssqdqcsEzjUwJXD1UXcMYPtaoXrH/REvTKJG6N9VRjVP5MrLi+2nAxOJotWXZOFe31MLi+/+FtQaRbgobm5ueKvx4BKzZ9Fa9lq3HIwIL/4W0ZzSYP5S9To33aRwck7G6FjVitJdN4w5ON1LvJNML/OlClT1IGK5xHeRGwKApZYR+CxHXKQx34oXByQDeMf9nMVP7tR8KThn43FD4cth3XtXxSMWi/XLlfO9E/bcC25+ryZY9Vc9GH7pcu25s+1Tbdx/QsrV6OcOICrYFJTh6oK6l4KvOeEXlXrnfsPTgmCKUZRbJmisFfp2N1BDd0bzKayOlL4UbS+MoFDDS452zbW0/Jv9arV9I9//EPN3ImPlDGnEKZNaWhoUB+i4rMI7+pCTfsycNBAhSJN/2weq/EHPG+88Yb6ABvfm7nweIOs+nZQ4znc4suJmY1R81iNP8jlIb7eZIEV+yUy4YcMHkKjLhpFiKN9DGm8WOYivhgF9XddmB+4UuHKQQcmj2/s1VhJXfF7srjsin9uurm8cOUkvtF4Fv54/EkSppsnaRUGhIGMGZDBKeMAiHlhQBhwMyCDk5sXaRUGhIGMGZDBKeMAiHlhQBhwMyCDk5sXaRUGhIGMGZDBKeMAiHlhQBhwMyCDk5sXaRUGhIGMGchsDnHg1tOQVuMgbjnYQ2Kdzuvxsx+3Xa4+8c8dEeEvGi+HG39y5eSOt7QKA8JAxgzUmtnZZr2SXxw5fJLCkYOdLOTEP/8Ic+Ih/Al/mgFOf4FsUDm5ctIMy1IYEAZyxYAMTrkKhzgjDAgDmgEZnDQTshQGhIFcMSCDU67CIc4IA8KAZkAGJ82ELIUBYSBXDMjglKtwiDPCgDCgGZDBSTMhS2FAGMgVA5IhXiEc3IzauOXgkmSwlweGy7PwV84dWg43/uTKyR1HaRUGhIGMGZAMcUYAgma2VlPJ0ScZ2P4sCn9ubji8YE+OXB76n1w5ueMsrcKAMJAxAzI4ZRwAMS8MCANuBmRwcvMircKAMJAxAzI4ZRwAMS8MCANuBmRwcvMircKAMJAxAzI4ZRwAMS8MCANuBmRwcvMircKAMJAxA5IhXiEA3IzauOXgkmSIlweGy7PwV84dWg43/mrdMKS1EgMfffQRLX59Mb3b9i6tX7+e2tvbqaOjgxoaGqixsZH69etHzcObqbWllQYPHlxJVS62aTxtK9oUnm3bth3WeFykaow/l5iFwXjGGWdQU1MTjRkz5rDol5Ih7oqy1aYzap955hmaMWMGbd68mVpbW2nSpEk0cOBAOu2006hHjx70448/0tdff02rV6+mZcuW0SWXXEInnngiTZ06la655pqiVq2v2OCopJGha+OZPHkyG09Lawsr0xjQOHjjltP82RjDxiwp/6C3WqnG39y5c2nmzJm0ZcuWSP3S9EPzZ7b51av5p/cLLFfwyv79+9Uf6pUKVw46vm3/tpIqtY2rL265oP59+OGHhXPOOacwZMiQwvz586viMgUgj/2w/3vvvcfiOah/pj1X3eYvDjzeGbgAPZWKbddPNm452HnzzTdjiRkwJuFfHMdHHHFEv3TFMQ7/dLzD8kdQEHZnbdy1zAM4l1+6jeufd0YqeCN/4cEHH9S7hlpif+iBPk7h+ofYVStmfGfPnh0rHujzK6ZdPxm0xy0XN0bELCjPlfBiW9T4xo3RjmNU/0z8YeMrg5PJolW/9957C6eeemphxYoV1pZwq9ADfdOmTauqIInOAbtp4gnbKf3I4ehLCiP6QrXC8U/riBLfpDCa/TKKfxqjXnJ5seVkcNIMWkucSXAgr1u3ztoSbRX6oNc+U9la4+4cOPunjcfubDZGvR6XXNYx4+IA7rDxTQtjWP90TM0llxdbTgYnk8VDddyD4xYsrism2wT0Qr/rXl/Lxtk58KwrCzx2Z9PY7GUccnmIGRcH8IeJb5oYw/hnx1Wvc3mx5WRw0gwaSzwkjPqMyVDnrEI/7PiVODtHVnjszuaHNQ65rDCamLg4sE+Y+KaJMYx/JhdmncuLLZdJhrjnOHXs6fBO5vkrePW8d+9euvXWWxN1DvphB/aSLD83PC6uBKOLlXBtul/Of2F+OAVx7oURzh6xzFHPrHPlsE+lkRf3zWPHji3ahd61a9cWvE5WuOGGGwrnnntu4fvvvy+a5trlylXyz0uaDJwuUHQ0YAVpBrDnKpX40/IcvFni4fgHLFHlssSoYxEEB2SDxjdtjIMGDTKhOetR42YrtfXVKJIO4JEEERKvdKmpqcEtn14lrHfu71TrWs6WKQp7lY7dXsZ09wazif75P/+kKVOmqCsGJCz+4he/UNtvu+028t4U0KhRo1TmqkeMSgbsVtdNbcenHCjarqon4N/qVavp2muvpX//+9/KXhr/vIfU9PTTT9PAQQNLzLn4KxHwVly8mDJZ46nmn/bVJWf3Lb/+t2rlqkxihqu1Xw/8tYYQy/FRVHaoonlZ8/Ga0Bjbt7XT5k2bqXfv3nTUUUfZJnzX/fqluYP2zzwuze267pLjxLe2sVcjHThwQOmplsHJlYMykALdZrn00ktVBnVfL41+1KgLacb0GXTSSSepLOoRI0bQa6+9ZooX61y7XDkodvn3zv++Q6NHjy7arVbxrvZowIABJWJ9+vSh++67j4CVU2APds8///wScZd/JQLeSjW8QfGY+s8880wVq23bt1FDfelJxpSz6yaeav7pfaPIBcX44osv0hVXXKFNq8x+L0mW7r//fsKSU4Dx7XfepvPOO69EnIsDOwWJb1CM0P/xJx/TxAkT6dNPP8WqKvgCYPqM6VTXrU43+S7NOPoJcfGGlUv1mdOO73aoM8xM7xOQrzZ8RY8++qj6Hm3nrl3q04+vNn5F+g/BS7vg27KRI0eyzXYWDl5JeukBtH37dtr4r43qyu+yyy6jXR4mToE92E2iBMWjfVi5cqX6xg5Xt0uWLNHNrGWSeFwOBMWo7wY2bdpE+MMVUF1dHQ0dOlQd0C4bdlveMW7dupWam5pp2LBhtGPHDtq3bx8tW76Mnn32Wbrzj3facJzraWN0OZHq4LT0n0vp9ddfV7d1Z599NuEqA9+qrfcObu81KY0ZPYYG9B9Aw5uH0+OPPe7yN9E2DDL4Vi5owe3pMcccQ7/s/Uv67W9/q3bHw25OgT3YTaKExYNvtbxngnT55ZfTvLnzArmWJB6XI2Ex4ptH/OH7xzfeeIPwKOEv//UXl4mytrxjxEkft3CzH5utHp3U1tbSiP8YoR4fdO/RvQyPqyFtjC4fUp2VYPz48XTxxRerN3XHNR5HCxcuVD7hi3Hc1uEsfeWVV6oDg3tb5AIVtg1f4+Mj3qAFz4x69uxJW7/dSk/MeYKuuuoqNVhx9MAe7CZRwuDxHkrSvHnzaM6cOdSlaxcaP248eS8nFD6Oj0nicdkPg9GlB887uVeJeceIxw3eS6Wy2zccU9zjKm2MrpikOjhhEMKZCpeZKP3791fLP/3pT3TEEUeoepb/du/erZ5BBPVh0aJFVF9fr27lcHu3YcMGdZuKmQqqFcjAbhIlDB7vg1k1XQpmHeg8cPC2Fc8Cr7vuOpaLSeJxORAGo0sPprrBbSyn5B0jbuVwVRilpI3R5Wuqt3W4B370r4/S888/r3y56+67aMGCBfTdd9/R6aef7vIv1bbu3buzO6jpGA7epUuX0vvvv08bN25Ut2mLFy82RXzrOCBgN4kSBs9TTz2lOOjbp6+alwp+4UqKW5LE4/IhDEaXHpxQcGvHKXnHiGNp+fLlZVDwkPzhhx8ua3c1pI3R5UOqgxNuGW74/Q3FWwS8NcAzJ1yG9u3b1+Vfqm29evVSb6iiGD3++OPVG8hP1n7CUoP5n2A3iRIUzw8//EAvv/wyPfDAA/Tkk0+qP9Tfeust9fCY42OSeFz2g2J06cCBiLd4Xi6Ra3NZW94x4g0yJkHEA3+zTLtvmpprzGzzq6eN0eVHqoPTor8vIszGd9ZZZylfxo0bp26B0DEuuOACl3+ptuH1OSaKC1rWrV9Hn332GbW1tdH111+vXt+ObuWlJMAe7CZRguJ55ZVX1G3tTTffpHLO8Bxm6k1TVRtixClJ4nHZD4pR60C88Ie3WHjeidsYTETHKXnHiJSBE044QT37/PLLL2nnzp00a9Ys8pJ+6cYbb+RAVMdBUv2S5YAnlOoc4nh4efPNN9NFF11ESPKqq6+j22+/nZ577jk65ZRTVN4OXvV2dnYWc3gAhDv3MVcOOpEYpvMvsI7S1NykZrDEWypO6VJzcGwfOWJkURxvIOc8MUe9mi42VqhgxkzYtX1x+WerqYY3KB68pZs4cWLJg9T6unr1ggIxuuWWW2wXytZNPNX80ztHkQuKEcl/KHhbjIJBqaWlRaUU4I0rp5gYTXkuDuwTJL5BMR555JHqZdOECRNK7khwl4KUCU7xw2juy8UbVq4GKeN652613UzbZXWuHHbcvm07Hdvr2DIdaEDawK9+9Ss6uufRavuejj0EQlE+//xzNQ/3scf+tC/XLlcOdlz+6Qf2uKRNq+CtCK5Y7FsKl3+2T9XwZo2nmn8aTxS5rDFqDFhycUA2SHzXrF6jXiQF7Zc40WMf3LbipImUAm7BxcOrr75a1i/N/bl4Q8t5ACJ/2wQddgn67ZC9v7luf3NjbjPrXDns4+df2t8wwZ6r+PlnynLwZomH4x/wRJXLEmPQeGj5oPFNG2Mevq2TKVN0bzm09HKW1JzfVnMiq5hbHPZcJWjndelAW5Z4og46NiY/fVliNH3088+U0fWg8U0b4/Tp07Wrvksu3rByqT4QNy8J81rHr6Tgc4aHHnooURehH3bMX2VJwuDPDY+LI8HoYiVcm+6XV0z46fvDcJpi2AvDYtiRzXdI9TYEPTNU0pW2f2nOOOiHO07+ZCZMP5b57ZzZS7n9FFbDxDfNfhnGPz82ubzYcnJb58NoWnM1+5gP1Xn9dCHoMoe4HzvV273v91jzvtsHVyXNYQ/+tPplWP9cmLm82HIyOLnYPNQmv75SgRxvU7Vfk7E7m5+2OOWS+mUS+fWV8ujFGTdot/XJ4FTOebEFZOGKw7t7jjynuPxuXZHWsordKcsEDjVw5XB1EXfMYLta4foHPVGvTOLGCH1mieqfqYvLiy0ng5PJolXXZOFeH5PL4+2a/OLvwV8wbm5urvjrMaBS82fRWrYatxwMyC/+ltFc0mD+EjX6t13yMDhlkoSpn+OHTs7SCqwlVx92C5IEp5NT7d+kx4RcmPcGiZTINEayG5Le8HkDMmzx8S8+I8AnA1dffXViSXraP4uO4qofL1HwtLa0+ibZasN+dvV2vYxbDnp1fKNgRMxQkvRPGfD5x7XrpRmQd+VDW7ZsodbWVgraL13mNX+ubbqN619YORmcNNOOpR+pyEpe/PpierftXfWBZXt7u5pmpKGhQWW39+vXj5qHNxMOYC95rqjZT19RwKik2Tk0HswqiQ9G8ZlRR4c3B3wFPGn6p2mJwp/GGDRmsM21y5WDziT4QyZ5pX6J71qbmppozJgxJf0S/tglCf+CnkRrcDmnv+tKeg5xm4C47XL1wY8gczjHxYv4Z/eAg+tcXrhyEt9oPOeFP0nCdMdRWoUBYSBjBmRwyjgAYl4YEAbcDMjg5OZFWoUBYSBjBmRwyjgAYl4YEAbcDMjg5OZFWoUBYSBjBmRwyjgAYl4YEAbcDMjg5OZFWoUBYSBjBlKdQ9zGqpPW7HZ7PW456A8yh7Ptj70u/tmMHFyPmxeuPliX+JbH5HDjT66cymMoLcKAMJADBmrN7GezXsk3jlxN1xriyMFOFnLin3+EOfEQ/oQ/zQCnv0A2qJxcOWmGZSkMCAO5YkAGp1yFQ5wRBoQBzYAMTpoJWQoDwkCuGJDBKVfhEGeEAWFAMyCDk2ZClsKAMJArBmRwylU4xBlhQBjQDPwfdoRPwBoNX7IAAAAASUVORK5CYII=" alt="0dfa920b-ab4d-47ab-b888-7b83c7f5166c.png"></p> <p>如上图，在列表渲染时，原列表 A-B-C-D，更新后成 B-A-D-C，在进行 diff 时，React 认为 B != A,
会直接在新列表上创建 A，而删除老列表的 B，一次类推 A-D-C 都是如此操作，但其实他们只是位置边换了，并不
需要创建和删除，于是 React 给每个节点设置可一个 key 如下图</p> <p><img src="/kaigege/assets/img/860740ab-1e7c-4272-8d60-799b27faa0ee.dd6a23ba.png" alt="860740ab-1e7c-4272-8d60-799b27faa0ee.png"></p> <p>React 通过 key 发现新老集合中的节点是相同的，只需要将位置变换一下即可，因此便不用去 diff，
从而提升了性能，这也是为什么 React 要求给每个列表项加 key 的原因</p> <h3 id="使用-index-作为-key-的一些问题"><a href="#使用-index-作为-key-的一些问题" class="header-anchor">#</a> 使用 index 作为 key 的一些问题</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  {list.map((item, index) =&gt; (
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{item}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{index}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  ))}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{handleAdd}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="data:image/png;base64,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" alt="8ca66e29-9f06-4ee5-90de-24600f5bd4fa.png"></p> <p>当点击添加在顶部插入一条数据 e 的时候如下：
输入框中的数据错位了</p> <p><img src="data:image/png;base64,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" alt="d5b77170-48a3-458f-8b78-90093bc11bf5.png"></p> <p>因为 e 的 key 此时等于 0 ，而之前 key = 0 时的值是 a 的值 1，所以此时 e 的值等于 1，
因此用 index 做 key 在某些情况会出现数据错乱情况，应该尽量避免，保持 key 是唯一且稳定的</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/kaigege/assets/js/app.ceb0ffd1.js" defer></script><script src="/kaigege/assets/js/2.9fb062ef.js" defer></script><script src="/kaigege/assets/js/3.efbefac2.js" defer></script>
  </body>
</html>
